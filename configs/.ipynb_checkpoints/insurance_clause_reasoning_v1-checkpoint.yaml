# configs/insurance_clause_reasoning_v1.yaml
task_name: insurance_clause_reasoning
version: v1

output_root: ./outputs

generator:
  api_base: https://dashscope.aliyuncs.com/compatible-mode/v1
  api_key: ""
  model: deepseek-r1           # 偏推理/长上下文
  max_concurrent: 4

evaluators:
  primary:
    role: judge_reasoning
    api_base: https://dashscope.aliyuncs.com/compatible-mode/v1
    api_key: ""
    model: qwen-max
    max_concurrent: 3
  secondary:
    role: judge_faithfulness
    api_base: https://dashscope.aliyuncs.com/compatible-mode/v1
    api_key: ""
    model: deepseek-chat
    max_concurrent: 3

scoring:
  dimensions:
    - name: correctness         # 是否判断对赔不赔
    - name: faithfulness        # 是否基于条款事实，不瞎编
    - name: completeness        # 是否覆盖关键责任条款
    - name: reasoning_quality   # 推理链条是否清晰
  weights:
    correctness: 0.4
    faithfulness: 0.3
    completeness: 0.2
    reasoning_quality: 0.1
  min_score_threshold: 8.0      # 对条款推理要求更高
  min_votes: 2
  max_samples: 20000

generation:
  samples_per_slice: 3          # 单条更长，样本稍少但重质
  max_output_tokens: 1536
  temperature: 0.6
  top_p: 0.9

split:
  train_val_split: 0.9

dedup:
  enable_dedup: true
  # embed_model: "bge-m3"
  # similarity_threshold: 0.95
