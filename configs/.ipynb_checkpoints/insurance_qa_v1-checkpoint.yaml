# configs/insurance_qa_v1.yaml
task_name: insurance_qa
version: v1

# 所有输出都挂在这个 root 下：outputs/{task_name}/{version}/...
output_root: ./outputs

generator:
  api_base: https://dashscope.aliyuncs.com/compatible-mode/v1
  api_key: ""            # 在本地填
  model: qwen-max        # 生成 SFT 样本的 teacher
  max_concurrent: 8

evaluators:
  primary:
    role: judge_main
    api_base: https://dashscope.aliyuncs.com/compatible-mode/v1
    api_key: ""          # 在本地填
    model: qwen-max
    max_concurrent: 4
  secondary:
    role: judge_safety
    api_base: https://dashscope.aliyuncs.com/compatible-mode/v1
    api_key: ""          # 在本地填
    model: deepseek-chat
    max_concurrent: 4

scoring:
  # 可以在 evaluator 里打多维度分，这里做聚合策略
  dimensions:
    - name: correctness
    - name: completeness
    - name: helpfulness
    - name: safety
  weights:
    correctness: 0.4
    completeness: 0.3
    helpfulness: 0.2
    safety: 0.1
  min_score_threshold: 7.5      # 平均分≥7.5 才进候选
  min_votes: 2                  # 至少需要两个 evaluator 打分
  max_samples: 30000            # 保护上限，避免无限生成

generation:
  samples_per_slice: 5          # 每个知识切片生成若干条 QA
  max_output_tokens: 1024
  temperature: 0.7
  top_p: 0.9

split:
  train_val_split: 0.9          # 9:1 划分 train/val

dedup:
  enable_dedup: true
  # 后续可扩展：
  # embed_model: "bge-m3"
  # similarity_threshold: 0.95
